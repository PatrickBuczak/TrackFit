<div class="container">
<div class="container-userinfo">
  <!-- Linke Spalte: Benutzerinformationen (Rolle, Benutzer, Vor- und Nachname, E-Mail -->
  <div class="left-column">
    <div class="text-row">
      <div class="container-text">Rolle: </div>
      <div class="container-text3">regulärer Benutzer</div>
    </div>
    <div class="text-row">
     <div class="container-text">Benutzername: </div>
     <div class="container-text3">{{ this.userLoad.username }}</div>
    </div>
    <div class="text-row">
      <div class="container-text">Vorname: </div>
     <div class="container-text3">{{ this.userLoad.firstname }}</div>
    </div>
    <div class="text-row">
     <div class="container-text">Nachname: </div>
      <div class="container-text3">{{ this.userLoad.lastname }}</div>
    </div>
      <div class="text-row">
        <div class="container-text">E-Mail-Adresse: </div>
        <div class="container-text3">{{ this.userLoad.email }}</div>
      </div>
  </div>

  <!-- Mittlere Spalte: Weitere Benutzerinformationen (Geburtstag, Geschlecht, Größe, Gewicht)-->
  <div class="middle-column">
    <!-- Platzhalter um das Grid zu wahren -->
    <div class="text-row">
      <div class="container-text4">T</div>
      <div class="container-text4">T</div>
    </div>
    <div class="text-row">
     <div class="container-text">Geburtsdatum: </div>
      <div class="container-text3">{{ this.userLoad.dateofbirth }}</div>
    </div>
    <div class="text-row">
      <div class="container-text">Geschlecht: </div>
     <div class="container-text3">{{ this.userLoad.gender }}</div>
    </div>
    <div class="text-row">
     <div class="container-text">Körpergröße in cm: </div>
      <div class="container-text3">{{ this.userLoad.bodysize }}</div>
    </div>
    <div class="text-row">
      <div class="container-text">Gewicht in kg: </div>
      <div class="container-text3">{{ this.userLoad.weight }}</div>
      </div>
  </div>

  <!-- Rechte Spalte: Profilbild -->
  <div class="right-column">
    <div class="text-row">
       <div class="container-text-profilbild">Profilbild: </div>
    </div>
    <img id="profilbild" alt="Profilbild">
  </div>
</div>
</div>

<div class="container-gap"></div>

<div class="container-erfolge">
  <div class="container-text6">Erfolge: </div>
  <p></p>
</div>

<app-achievements></app-achievements>

<div class="container-gap"></div>

<!-- Zusammenfassung der Aktivitäten -Header -->
<div class="container-aktivitaeten">
  <div class="container-text6">Aktivitätenzusammenfassung: </div>
  <p></p>
</div>

<!-- Container für Aktivitätszusammenfassung -->
<div class="container2">
  <div>
    <div class="container-text5">{{ ActivityCount }}</div>
    <p></p>
    <div class="container-text2">Gesamtzahl durchgeführter Aktivitäten</div>
    <p></p>

    <div  class="container-text5">{{ TotalDurationInHours }}</div>
    <p></p>
    <div class="container-text2">Gesamtdauer aller durchgeführter Aktivitäten in h</div>
  </div>

  <div>
    <div class="container-text5ph">T</div>
    <p></p>
    <div class="container-text2ph">T</div>
    <p></p>

    <div class="container-text5">{{ TotalDistanceInKm }}</div>
    <p></p>
    <div class="container-text2">Gesamtdistanz aller durchgeführter Aktivitäten in km</div>
    <p></p>

    <div class="container-text5">{{ TotalCaloriesBurned }}</div>
    <p></p>
    <div class="container-text2">Insgesamt verbrauchte Kalorien in kcal</div>

    <!-- Anzeige der Gesamtzahl aller Likes -->
    <div class="container-text5">{{ TotalLikes }}</div>
    <p></p>
    <!-- Beschriftung für die Gesamtzahl aller Likes -->
    <div class="container-text2">Gesamtzahl aller Likes</div>

  </div>

  <div>
    <div class="container-text5">{{ TotalAltitudeInMeters }}</div>
    <p></p>
    <div class="container-text2">Insgesamt bewältigte Höhe in m</div>
    <p></p>

    <div class="container-text5">{{ AverageSpeedInKmh }}</div>
    <p></p>
    <div class="container-text2">Durchschnittsgeschwindigkeit aller Aktivitäten in km/h</div>
  </div>


</div>




<div class="container">
  <button class="container-activity" (click)="navigateToActivityVisualization()">Aktivitätenvisualisierung</button>
</div>

<div class="container-gap"></div>

<!-- Aktivitätenheader-->
<div class="container-aktivitaeten">
  <div class="container">
    <button class="container-text6">Liste der für Sie sichtbaren Aktivitäten: </button>
    <p></p>
  </div>

  <!-- Filterinput (mit Sortierhinweis) -->
  <div class="filter-center-container">
    <input class="filter-input" id="inputField1" type="text" placeholder="Filtere nach einer Aktivität" [(ngModel)]="searchText" />
    <button class="container-text2">Hinweis: Durch einen Klick auf die Spaltennamen können Sie die Spalten auf- oder absteigend sortieren.</button>
  </div>

  <!-- Tabelle der Aktivitäten -->
  <table>
    <thead>
    <tr>
      <th class="container-text3 column-left" rowspan="2" (click)="sortData('activityid')">ID</th>
      <th class="container-text3 column-wide" rowspan="2" (click)="sortData('activityname')">Name</th>
      <th class="container-text3" rowspan="2" (click)="sortData('activitytype')">Typ</th>
      <th class="container-text3" rowspan="2" (click)="sortData('activitydate')">Datum</th>
      <th class="container-text3 column-narrow gesamtdauer-column" rowspan="2" (click)="sortData('totaldurationMin')">
        Gesamtdauer<br>in sec
      </th>
      <th class="container-text3 column-narrow gesamtdistanz-column" rowspan="2" (click)="sortData('totaldistanceMet')">
        Gesamtdistanz<br>in m
      </th>
      <th class="container-text3 column-narrow" rowspan="3" (click)="sortData('averagespeedkmh')">
        Durchschnitts-<br>geschwindigkeit<br>in km/h
      </th>
      <th class="container-text3" rowspan="2" (click)="sortData('altitudemeters')">Höhenmeter</th>
      <th class="container-text3" rowspan="2" (click)="sortData('calorieconsumoption')">
        Kilokalorien-<br>verbrauch
      </th>
      <th class="container-text3" rowspan="2" (click)="sortData('visibility')">Sichtbarkeit</th>
      <th class="container-text3" rowspan="2">Likes</th>
      <th class="container-text3" rowspan="2">Visualisierung</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of filteredData()">
      <td class="container-text">{{ item.activityid }}</td>
      <td class="container-text">{{ item.activityname }}</td>
      <td class="container-text">{{ item.activitytype }}</td>
      <td class="container-text">{{ item.activitydate | date:'dd.MM.yyyy' }}</td>
      <td class="container-text gesamtdauer-column">{{ item.totaldurationMin | number:'1.0-2' }}</td>
      <td class="container-text gesamtdistanz-column">{{ item.totaldistanceMet | number:'1.0-2' }}</td>
      <td class="container-text">{{ item.averagespeedkmh | number:'1.0-2'  }}</td>
      <td class="container-text">{{ item.altitudemeters | number:'1.0-2'  }}</td>
      <td class="container-text">{{ item.calorieconsumoption | number:'1.0-2'  }}</td>
      <td class="container-text">{{ item.visibility }}</td>
      <td class="container-text">
        <!-- Container für das Herzsymbol und die Anzahl der Likes -->
        <div class="like-container">
          <!-- Herzsymbol als SVG-Grafik, um die Like-Funktion visuell darzustellen -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path d="M12 21.758l-1.485-1.356C5.838 15.858 2 12.292 2 8.5 2 5.462 4.462 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.538 3 22 5.462 22 8.5c0 3.792-3.838 7.358-8.515 11.902L12 21.758z"/>
          </svg>
          <!-- Bindung der Like-Anzahl aus den Daten der Aktivität -->
          <span class="like-count">{{ item.likeCount }}</span>
        </div>
      </td>


      <td class="container-text">
        <div class="button-container">
          <!-- Button for Routenvisualisierung -->
          <button (click)="navigateToMap(item.activityid)" title="Kartenvisualisierung">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100" fill="none" stroke="white" stroke-width="8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20,60
         C25,50 35,40 30,30
         C25,20 45,15 55,25
         S75,45 70,50
         C65,55 85,60 80,70
         C75,80 55,75 45,80
         C35,85 30,70 20,60 Z"></path>
            </svg>
          </button>

          <!-- Button for Höhenvisualisierung -->
          <button (click)="navigateToElevation(item.activityid)" title="Höhenvisualisierung">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100" fill="none" stroke="white" stroke-width="8" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="10,80 25,40 40,60 60,20 80,50"></polyline>
            </svg>
          </button>
        </div>

      </td>
    </tr>
    </tbody>
  </table>
</div>


<div class="container-gap"></div>
<p></p>
<p></p>


<button class="logout-button" (click)="logout()">Abmelden</button>
<p></p>
<br>
<br>
<br>

<app-navbar></app-navbar>
